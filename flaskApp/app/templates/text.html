{% extends 'base.html' %}

{% block content %}   


<!-- <div class="m-2">
    <form class="form-inline" action="" method="post" name="getCoords">
        <div class="form-group mx-sm-3 mb-2">
            <p>Check-In when you have found the clue to proceed.</p>
            <input type="hidden" name="answer_input" id="location"> 
            <button onclick="getLocation()" type="button" name="nextClue" class="btn btn-primary btn-lg">Check-In</button>
        </div>
    </form>

    <p>You are here: {{location}}</p>
</div>  -->

<p>Click the button to get your coordinates.</p>

<form>
    <button onclick="getLocation()" type="submit" name="nextClue" id="answer_input">Try It</button>
</form>

<p id="demo"></p>

<script>
    var x = document.getElementById("demo");
    var input = document.getElementById("answer_input");
    var latitude = 0
    var longitude = 0
    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
      } else { 
        x.innerHTML = "Geolocation is not supported by this browser.";
      }
    }
    
    function showPosition(position) {
        latitude = position.coords.latitude;
        longitude = position.coords.latitude;
        console.log("("+latitude+", "+longitude+")");
        x.innerHTML = "Latitude: " + position.coords.latitude + "<br>Longitude: " + position.coords.longitude;
    }

    input.value = "("+latitude+", "+longitude+")";
</script>

{% endblock %}

